<script>
  const buttons = document.querySelectorAll('#buttons-container button');
  const output = document.getElementById('selection-output');

  buttons.forEach(btn => {
    btn.addEventListener('click', async () => {
      const topic = btn.getAttribute('data-topic');
      output.textContent = `You selected: ${topic}`;

      try {
        const res = await fetch('http://localhost:3000/select-topic', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ topic })
        });
        const data = await res.json();
        console.log(data.message);
        output.textContent += `\n${data.message}`;
      } catch (err) {
        console.error(err);
      }
    });
  });
</script>
